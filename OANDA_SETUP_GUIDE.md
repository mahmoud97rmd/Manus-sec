# ุฏููู ุงูุฅุนุฏุงุฏ ุงูุดุงูู ูู OANDA API

## ๐ฏ ุงููุฏู

ูุฐุง ุงูุฏููู ุณูุณุงุนุฏู ุนูู:
1. ุฅูุดุงุก ุญุณุงุจ OANDA Developer
2. ุงูุญุตูู ุนูู API Token ู Account ID
3. ุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ุงูุชุทุจูู
4. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

---

## ุงูุฌุฒุก ุงูุฃูู: ุฅูุดุงุก ุญุณุงุจ OANDA

### ุงูุฎุทูุฉ 1: ุงูุฏุฎูู ุฅูู ูููุน OANDA

1. ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู: **https://developer.oanda.com**
2. ุณุชุฌุฏ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุทูุฑูู

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก ุญุณุงุจ ุฌุฏูุฏ

1. ุงููุฑ ุนูู **"Sign Up"** ูู ุงูุฒุงููุฉ ุงูุนูููุฉ ุงููููู
2. ุงุฎุชุฑ **"Individual"** (ุดุฎุตู)
3. ููุก ุงููููุฐุฌ ุจุงูุจูุงูุงุช ุงูุชุงููุฉ:

```
ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:    your_email@example.com
ูููุฉ ุงููุฑูุฑ:          Strong_Password_123
ุงูุงุณู ุงูุฃูู:         Your_First_Name
ุงูุงุณู ุงูุฃุฎูุฑ:        Your_Last_Name
ุงูุฏููุฉ:              ุงุฎุชุฑ ุฏููุชู
```

4. ูุงูู ุนูู ุงูุดุฑูุท ูุงูุฃุญูุงู
5. ุงููุฑ ุนูู **"Create Account"**

### ุงูุฎุทูุฉ 3: ุชุฃููุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

1. ุณุชุชููู ุจุฑูุฏ ุชุฃููุฏ ุนูู ุนููุงูู ุงูุฅููุชุฑููู
2. ุงูุชุญ ุงูุจุฑูุฏ ูุงููุฑ ุนูู ุฑุงุจุท ุงูุชุฃููุฏ
3. ุณูุชู ุชุญูููู ุฅูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู

### ุงูุฎุทูุฉ 4: ุชุณุฌูู ุงูุฏุฎูู

1. ุงุณุชุฎุฏู ุจุฑูุฏู ุงูุฅููุชุฑููู ููููุฉ ุงููุฑูุฑ
2. ุงููุฑ ุนูู **"Sign In"**

---

## ุงูุฌุฒุก ุงูุซุงูู: ุงูุญุตูู ุนูู API Token

### ุงูุฎุทูุฉ 1: ุงูุฏุฎูู ุฅูู ููุญุฉ ุงูุชุญูู

ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุณุชุฌุฏ ููุญุฉ ุงูุชุญูู ุงูุฑุฆูุณูุฉ.

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก Token ุฌุฏูุฏ

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุจุญุซ ุนู **"API Access"** ุฃู **"Manage Tokens"**
2. ุงููุฑ ุนูู **"Generate New Token"**
3. ุณุชุธูุฑ ูุงูุฐุฉ ุจุฎูุงุฑุงุช:

```
Token Name:        flutter_trading_app
Token Type:        Personal Use
Access Level:      Full Access (ุฃู Read/Write)
```

4. ุงููุฑ ุนูู **"Generate"**

### ุงูุฎุทูุฉ 3: ูุณุฎ ุงูู Token

โ๏ธ **ุชุญุฐูุฑ ููู**: ุงูู Token ุณูุธูุฑ ูุฑุฉ ูุงุญุฏุฉ ููุท!

1. ุณุชุฌุฏ Token ุทููู ูุจุฏู ูุซู:
```
abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
```

2. **ุงูุณุฎู ููุฑุงู** ูุงุญูุธู ูู ููุงู ุขูู
3. ูุง ุชุดุงุฑูู ูุน ุฃุญุฏ

---

## ุงูุฌุฒุก ุงูุซุงูุซ: ุงูุญุตูู ุนูู Account ID

### ุงูุฎุทูุฉ 1: ุงูุฏุฎูู ุฅูู ูุณู ุงูุญุณุงุจุงุช

1. ูู ููุญุฉ ุงูุชุญููุ ุงุจุญุซ ุนู **"Accounts"** ุฃู **"My Accounts"**
2. ุงููุฑ ุนูููุง

### ุงูุฎุทูุฉ 2: ูุณุฎ Account ID

ุณุชุฌุฏ ูุงุฆูุฉ ุจุญุณุงุจุงุชู. ููู ุญุณุงุจ:

```
Account ID:        001-011-1234567-001
Account Type:      Practice (ุชุฌุฑูุจู)
Balance:           $10,000.00
```

**ุงูุณุฎ Account ID** - ูุจุฏู ูุซู: `001-011-XXXXXXX-001`

### ููุงุญุธุฉ ูููุฉ:

- **Practice Accounts** (ุชุฌุฑูุจูุฉ): ููุงุฎุชุจุงุฑ ุจุฏูู ุฃููุงู ุญููููุฉ
- **Live Accounts** (ุญููููุฉ): ููุชุฏุงูู ุจุฃููุงู ุญููููุฉ

**ูุตูุญุฉ**: ุงุจุฏุฃ ุจู Practice Account ููุงุฎุชุจุงุฑ!

---

## ุงูุฌุฒุก ุงูุฑุงุจุน: ุฅุฏุฑุงุฌ ุงูุจูุงูุงุช ูู ุงูุชุทุจูู

### ุงูุทุฑููุฉ 1: ุงูุฅุฏุฑุงุฌ ุงููุจุงุดุฑ (ุณููุฉ ููู ุบูุฑ ุขููุฉ)

#### ุงูููู: `lib/services/service_locator.dart`

```dart
import 'package:get_it/get_it.dart';
import 'oanda_service.dart';
// ... ุจุงูู ุงูู imports

final getIt = GetIt.instance;

void setupServiceLocator() {
  // โญ ุถุน ุจูุงูุงุช OANDA ููุง:
  getIt.registerSingleton<OandaService>(
    OandaService(
      apiToken: 'abc123def456ghi789jkl012mno345pqr678stu901vwx234yz',  // โ ุถุน ุงูู Token ููุง
      accountId: '001-011-1234567-001',                                 // โ ุถุน Account ID ููุง
    ),
  );

  // ุจุงูู ุงูุฎุฏูุงุช...
  getIt.registerSingleton<CandleAggregator>(
    CandleAggregator(candleDuration: const Duration(minutes: 1)),
  );
  // ... ุฅูุฎ
}
```

### ุงูุทุฑููุฉ 2: ุงุณุชุฎุฏุงู ููู `.env` (ุขูู ุฃูุซุฑ) โญ ูููุตู ุจู

#### ุงูุฎุทูุฉ 1: ุฅูุดุงุก ููู `.env`

ูู ุฌุฐุฑ ุงููุดุฑูุน (`flutter_trading_app_source/.env`):

```env
OANDA_API_TOKEN=abc123def456ghi789jkl012mno345pqr678stu901vwx234yz
OANDA_ACCOUNT_ID=001-011-1234567-001
```

#### ุงูุฎุทูุฉ 2: ุชุญุฏูุซ `pubspec.yaml`

ุฃุถู ุงูููุชุจุฉ:

```yaml
dependencies:
  flutter:
    sdk: flutter
  flutter_dotenv: ^5.0.0
  # ... ุจุงูู ุงูููุชุจุงุช
```

ุซู ุดุบูู:
```bash
flutter pub get
```

#### ุงูุฎุทูุฉ 3: ุชุญุฏูุซ `main.dart`

```dart
import 'package:flutter_dotenv/flutter_dotenv.dart';
import 'services/service_locator.dart';

void main() async {
  WidgetsFlutterBinding.ensureInitialized();
  
  // โญ ุฃุถู ูุฐุง ุงูุณุทุฑ:
  await dotenv.load(fileName: ".env");
  
  setupServiceLocator();
  runApp(const TradingApp());
}

class TradingApp extends StatelessWidget {
  // ... ุจุงูู ุงูููุฏ
}
```

#### ุงูุฎุทูุฉ 4: ุชุญุฏูุซ `service_locator.dart`

```dart
import 'package:flutter_dotenv/flutter_dotenv.dart';
import 'package:get_it/get_it.dart';
import 'oanda_service.dart';

final getIt = GetIt.instance;

void setupServiceLocator() {
  // ุงูุฑุฃ ุงูุจูุงูุงุช ูู ููู .env
  final apiToken = dotenv.env['OANDA_API_TOKEN'] ?? '';
  final accountId = dotenv.env['OANDA_ACCOUNT_ID'] ?? '';

  if (apiToken.isEmpty || accountId.isEmpty) {
    throw Exception('OANDA credentials not found in .env file');
  }

  getIt.registerSingleton<OandaService>(
    OandaService(
      apiToken: apiToken,
      accountId: accountId,
    ),
  );

  // ุจุงูู ุงูุฎุฏูุงุช...
}
```

#### ุงูุฎุทูุฉ 5: ุชุญุฏูุซ `.gitignore`

ุชุฃูุฏ ูู ุฃู `.env` ูู ููุฑูุน ุฅูู Git:

```gitignore
# Environment variables
.env
.env.local
.env.*.local
```

---

## ุงูุฌุฒุก ุงูุฎุงูุณ: ุงุฎุชุจุงุฑ ุงูุงุชุตุงู

### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูุชุทุจูู

```bash
flutter run
```

### ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงูู Logs

ุงูุชุญ Android Studio / VS Code ูุงุจุญุซ ุนู ุงูู Logs:

#### โ ุฅุฐุง ูุงู ุงูุงุชุตุงู ุตุญูุญุงู:
```
[INFO] Fetched 500 candles for XAU_USD (M1)
[INFO] CandleAggregator initialized with 500 candles
```

#### โ ุฅุฐุง ุญุฏุซ ุฎุทุฃ:

**ุงูุฎุทุฃ**: `Invalid API Token`
```
ุงูุญู: ุชุญูู ูู ุตุญุฉ ุงูู Token
- ุงูุณุฎ ุงูู Token ูุฑุฉ ุฃุฎุฑู ูู OANDA
- ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฅุถุงููุฉ
```

**ุงูุฎุทุฃ**: `Account not found`
```
ุงูุญู: ุชุญูู ูู ุตุญุฉ Account ID
- ุงูุณุฎ Account ID ูุฑุฉ ุฃุฎุฑู
- ุชุฃูุฏ ูู ุฃู ุงูุญุณุงุจ ูุดุท
```

**ุงูุฎุทุฃ**: `Connection timeout`
```
ุงูุญู: ุชุญูู ูู ุงูุฅูุชุฑูุช
- ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช
- ุญุงูู ูุฑุฉ ุฃุฎุฑู ุจุนุฏ ุฏูุงุฆู
```

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูููุฒุงุช

1. **ุงุฎุชุจุงุฑ ุชุญููู ุงูุจูุงูุงุช**:
   - ุงูุชุญ ุงูุชุทุจูู
   - ูุฌุจ ุฃู ุชุฑู ุงูุดููุน ูุงููุคุดุฑุงุช

2. **ุงุฎุชุจุงุฑ ุงูุงุณุชุฑุงุชูุฌูุฉ**:
   - ุงููุฑ ุนูู "Strategy: ON"
   - ูุฌุจ ุฃู ุชุธูุฑ ุงูุตููุงุช ุนูุฏ ุงูุฅุดุงุฑุงุช

3. **ุงุฎุชุจุงุฑ ุงูู Backtest**:
   - ุงููุฑ ุนูู "Backtest" (ุฅุฐุง ูุงูุช ููุฌูุฏุฉ)
   - ูุฌุจ ุฃู ุชุฑู ูุชุงุฆุฌ ุงูุงุฎุชุจุงุฑ

---

## ุงูุฌุฒุก ุงูุณุงุฏุณ: ุงููุดุงูู ุงูุดุงุฆุนุฉ ูุงูุญููู

### ูุดููุฉ 1: "Failed to load candles"

**ุงูุณุจุจ**: API Token ุฃู Account ID ุบูุฑ ุตุญูุญ

**ุงูุญู**:
```dart
// ุชุญูู ูู ุงูู logs
print('Token: $apiToken');
print('Account ID: $accountId');

// ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช
apiToken = apiToken.trim();
accountId = accountId.trim();
```

### ูุดููุฉ 2: "Invalid granularity"

**ุงูุณุจุจ**: ุงููุชุฑุฉ ุงูุฒูููุฉ ุบูุฑ ุตุญูุญุฉ

**ุงูุญู**: ุงุณุชุฎุฏู ููุท:
```
M1, M5, M15, M30, H1, H2, H3, H4, H6, H8, H12, D, W, M
```

### ูุดููุฉ 3: "Instrument not found"

**ุงูุณุจุจ**: ุงุณู ุงูุฃุฏุงุฉ ุบูุฑ ุตุญูุญ

**ุงูุญู**: ุงุณุชุฎุฏู ุงูุฃุณูุงุก ุงูุตุญูุญุฉ:
```
XAU_USD   (ุงูุฐูุจ)
EUR_USD   (ุงูููุฑู/ุงูุฏููุงุฑ)
GBP_USD   (ุงูุฌููู/ุงูุฏููุงุฑ)
USD_JPY   (ุงูุฏููุงุฑ/ุงููู)
```

### ูุดููุฉ 4: "Rate limit exceeded"

**ุงูุณุจุจ**: ุทูุจุงุช ูุซูุฑุฉ ุฌุฏุงู ูู ููุช ูุตูุฑ

**ุงูุญู**: ุฃุถู ุชุฃุฎูุฑ ุจูู ุงูุทูุจุงุช:
```dart
await Future.delayed(const Duration(seconds: 1));
```

---

## ุงูุฌุฒุก ุงูุณุงุจุน: ุงูุฃูุงู ูุงูุฎุตูุตูุฉ

### โ ุฃูุถู ุงูููุงุฑุณุงุช:

1. **ุงุณุชุฎุฏู ููู `.env`** ุจุฏูุงู ูู ุงูุฅุฏุฑุงุฌ ุงููุจุงุดุฑ
2. **ุฃุถู `.env` ุฅูู `.gitignore`** ูุชุฌูุจ ุฑูุน ุงูุจูุงูุงุช
3. **ุงุณุชุฎุฏู Practice Account** ููุงุฎุชุจุงุฑ
4. **ุบููุฑ Token ุจุงูุชุธุงู** ูุฃุณุจุงุจ ุฃูููุฉ
5. **ูุง ุชุดุงุฑู Token ูุน ุฃุญุฏ**

### โ๏ธ ูุง ุชูุนู:

```dart
// โ ุฎุทูุฑ: ูุถุน ุงูุจูุงูุงุช ูู ุงูููุฏ ูุจุงุดุฑุฉ
const apiToken = 'abc123...';

// โ ุฎุทูุฑ: ุฑูุน .env ุฅูู GitHub
git add .env

// โ ุฎุทูุฑ: ูุดุงุฑูุฉ Token ูู ุงูุฑุณุงุฆู
"My token is: abc123..."
```

---

## ุงูุฌุฒุก ุงูุซุงูู: ูุฑุงุฌุน ุฅุถุงููุฉ

### ุฑูุงุจุท ูููุฉ:

- **OANDA Developer**: https://developer.oanda.com
- **OANDA API Docs**: https://developer.oanda.com/rest-live-v20/introduction/
- **API Reference**: https://developer.oanda.com/rest-live-v20/account-ep/

### ุฃุณุฆูุฉ ุดุงุฆุนุฉ:

**ุณ**: ูู ูููู ุงุณุชุฎุฏุงู ุญุณุงุจ ุญููููุ
**ุฌ**: ูุนูุ ููู ุงุจุฏุฃ ุจู Practice Account ุฃููุงู

**ุณ**: ูู ููุงู ุฑุณูู ููู APIุ
**ุฌ**: ูุงุ API ูุฌุงูู ููุฌููุน

**ุณ**: ูู ุนุฏุฏ ุงูุทูุจุงุช ุงููุณููุญุฉุ
**ุฌ**: 2400 ุทูุจ ูู ุงูุณุงุนุฉ (40 ุทูุจ ูู ุงูุฏูููุฉ)

**ุณ**: ูู ูููู ุงุณุชุฎุฏุงู Token ูุงุญุฏ ูุนุฏุฉ ุชุทุจููุงุชุ
**ุฌ**: ูุนูุ ููู ูู ุงูุฃูุถู ุฅูุดุงุก Token ูููุตู ููู ุชุทุจูู

---

## ุงูุฎูุงุตุฉ

| ุงูุฎุทูุฉ | ูุงุฐุง ุชูุนู | ุฃูู |
|-------|----------|-----|
| 1 | ุฅูุดุงุก ุญุณุงุจ OANDA | https://developer.oanda.com |
| 2 | ุงูุญุตูู ุนูู API Token | My Account โ Manage Tokens |
| 3 | ุงูุญุตูู ุนูู Account ID | Accounts |
| 4 | ุฅูุดุงุก ููู `.env` | ุฌุฐุฑ ุงููุดุฑูุน |
| 5 | ุฅุถุงูุฉ ุงูุจูุงูุงุช ุฅูู `.env` | `flutter_trading_app_source/.env` |
| 6 | ุชุญุฏูุซ `main.dart` | `lib/main.dart` |
| 7 | ุชุญุฏูุซ `service_locator.dart` | `lib/services/service_locator.dart` |
| 8 | ุชุดุบูู ุงูุชุทุจูู | `flutter run` |
| 9 | ุงูุชุญูู ูู ุงูู Logs | Android Studio / VS Code |

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุฏููู**: 2024
**ุงูุฅุตุฏุงุฑ**: 1.0
**ุงูุญุงูุฉ**: โ ุฌุงูุฒ ููุงุณุชุฎุฏุงู
